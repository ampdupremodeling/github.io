<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Amp'd Up Remodeling | Lancaster & Berks County, PA</title>
<meta name="description" content="Amp'd Up Remodeling is a licensed electrical and remodeling contractor based in Lancaster, PA, serving Lancaster County, Berks County, and surrounding areas." />

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;800&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
/* ===== Carousel ===== */
.gallery-carousel {
  position: relative;
  max-width: 100%;
  margin: 20px auto;
  overflow: hidden;
  border-radius: 10px;
}
.gallery-carousel img {
  width: 100%;
  display: none;
  border-radius: 10px;
}
.gallery-carousel img.active { display: block; }
.carousel-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(0,0,0,0.4);
  color: white;
  border: none;
  font-size: 2rem;
  padding: 5px 10px;
  cursor: pointer;
  border-radius: 5px;
}
.carousel-btn.left { left: 10px; }
.carousel-btn.right { right: 10px; }
.carousel-caption {
  position: absolute;
  bottom: 10px;
  left: 0;
  width: 100%;
  text-align: center;
  color: #fff;
  font-weight: 600;
  text-shadow: 1px 1px 4px #000;
  background: rgba(0,0,0,0.2);
  padding: 5px 0;
  border-radius: 0 0 10px 10px;
}

/* ===== Gallery Grid ===== */
.gallery-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px,1fr));
  gap: 15px;
  margin-top: 30px;
}
.gallery-item img {
  width: 100%;
  border-radius: 8px;
  cursor: pointer;
}

/* ===== Lightbox ===== */
#lightbox {
  position: fixed;
  display: none;
  top:0; left:0;
  width:100%;
  height:100%;
  background: rgba(0,0,0,0.8);
  justify-content: center;
  align-items: center;
  z-index: 1000;
}
#lightbox img {
  max-width: 90%;
  max-height: 90%;
  border-radius: 8px;
}
#lightbox:active { display:none; }
</style>
</head>

<body>

<header class="site-header">
  <div class="container header-inner">
    <a href="index.html" class="brand">
      <img src="images/logo-green.png" alt="Amp'd Up Remodeling logo">
    </a>
    <button class="nav-toggle" aria-label="Open navigation">â˜°</button>
    <nav class="nav">
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="services.html">Services</a>
      <a href="gallery.html">Gallery</a>
      <a href="reviews.html">Reviews</a>
      <a href="packages.html">Packages</a>
      <a href="contact.html" class="cta">Get a Quote</a>
    </nav>
  </div>
</header>

<main class="container page fade-in">
  <h1>Gallery & Recent Projects</h1>

  <!-- ===== Carousel ===== -->
  <div class="gallery-carousel" id="carousel">
    <button class="carousel-btn left" onclick="prevSlide()">&#10094;</button>
    <button class="carousel-btn right" onclick="nextSlide()">&#10095;</button>
    <div class="carousel-caption" id="carousel-caption"></div>
  </div>

  <!-- ===== Gallery Grid ===== -->
  <div class="gallery-grid" id="gallery"></div>

  <!-- ===== Lightbox ===== -->
  <div id="lightbox" onclick="this.style.display='none'">
    <img id="lightbox-img">
    <div id="lightbox-caption" style="color:white;text-align:center;margin-top:10px;"></div>
  </div>
</main>

<footer class="site-footer fade-in">
  <div class="container footer-grid">
    <div>
      <img class="footer-logo" src="images/logo-yellow.png" alt="Amp'd Up Remodeling logo">
      <p>Licensed Electrical & Remodeling Contractor</p>
      <p>Lancaster &amp; Berks County, PA</p>
    </div>
    <div>
      <h4>Contact</h4>
      <ul>
        <li><i class="fa-solid fa-envelope"></i> <a href="mailto:justin@ampdupremodeling.com">justin@ampdupremodeling.com</a></li>
        <li><i class="fa-solid fa-phone"></i> <a href="tel:+17176178378">(717) 617-8378</a></li>
      </ul>
    </div>
    <div>
      <h4>Quick Links</h4>
      <ul>
        <li><i class="fa-solid fa-bolt"></i> <a href="services.html">Services</a></li>
        <li><i class="fa-solid fa-image"></i> <a href="gallery.html">Projects</a></li>
        <li><i class="fa-solid fa-file-pen"></i> <a href="contact.html">Request a Quote</a></li>
      </ul>
    </div>
  </div>
  <div class="container footer-bottom">
    <span>&copy; <span id="year"></span> Amp'd Up Remodeling. All rights reserved.</span>
  </div>
</footer>

<script>
/* ===== Load Images from JSON ===== */
let carouselImages = [];
let current = 0;

fetch("images/images.json")
  .then(res => res.json())
  .then(images => {
    carouselImages = images;
    const carousel = document.getElementById("carousel");
    const gallery = document.getElementById("gallery");

    // --- Carousel: first 4 images auto-updated ---
    const featured = images.slice(0, Math.min(4, images.length));
    featured.forEach((img,i) => {
      const el = document.createElement("img");
      el.src = `images/${img.file}`;
      if(i===0) el.classList.add("active");
      el.onclick = () => openLightbox(el.src, img.caption); // click opens lightbox
      carousel.appendChild(el);
    });
    updateCaption();

    // --- Gallery Grid ---
    images.forEach(img => {
      const fig = document.createElement("figure");
      fig.classList.add("gallery-item");
      fig.innerHTML = `<img src="images/${img.file}" onclick="openLightbox(this.src,'${img.caption}')">
                       <figcaption>${img.caption}</figcaption>`;
      gallery.appendChild(fig);
    });
  });

/* ===== Carousel Controls ===== */
function showSlide(n){
  const slides = document.querySelectorAll("#carousel img");
  slides.forEach(s => s.classList.remove("active"));
  if(n >= slides.length) current = 0;
  if(n < 0) current = slides.length - 1;
  slides[current].classList.add("active");
  updateCaption();
}

function nextSlide(){ current++; showSlide(current); }
function prevSlide(){ current--; showSlide(current); }

// --- Update carousel caption ---
function updateCaption(){
  const slides = document.querySelectorAll("#carousel img");
  const captionDiv = document.getElementById("carousel-caption");
  if(slides.length > 0 && carouselImages.length > 0){
    captionDiv.textContent = carouselImages[current]?.caption || "";
  }
}

setInterval(nextSlide, 5000); // auto slide

/* ===== Lightbox ===== */
function openLightbox(src, caption){
  const lb = document.getElementById("lightbox");
  const lbImg = document.getElementById("lightbox-img");
  const lbCaption = document.getElementById("lightbox-caption");
  lbImg.src = src;
  lbCaption.textContent = caption;
  lb.style.display = "flex";
}

/* ===== Copyright year ===== */
document.getElementById("year").textContent = new Date().getFullYear();
</script>

</body>
</html>
